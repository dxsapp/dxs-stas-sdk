import { Address } from "../src/bitcoin/address";
import { OutPoint } from "../src/bitcoin/out-point";
import { PrivateKey } from "../src/bitcoin/private-key";
import { ScriptType } from "../src/bitcoin/script-type";
import { TokenScheme } from "../src/bitcoin/token-scheme";
import { TransactionBuilder } from "../src/transaction/build/transaction-builder";
import {
  BuildMergeTx,
  BuildSplitTx,
  BuildTransferTx,
} from "../src/transaction-factory";
import { TransactionReader } from "../src/transaction/read/transaction-reader";
import { fromHex, utf8ToBytes } from "../src/bytes";
import {
  SourceTxRaw,
  IssueTxRaw,
  TransferNoNoteRaw,
  TransferWithNoteRaw,
  SplitNoNoteRaw,
  SplitWithNoteRaw,
  MergeNoNoteRaw,
  MergeWithNoteRaw,
  MergeSplitWithNoteRaw,
  RedeemSplitWithNoteRaw,
  RedeemWithNoteRaw,
  SplitWithNote2Raw,
  MergeWithNote2Raw,
  TransferToIssuerRaw,
} from "./stas-transactios";

const issuerPrivateKey = new PrivateKey(
  fromHex(
    "b62fd57a07804f79291317261054eb9b19c9ccec49146c38b30a29d48636c368"
  )
);
const issuerAddress = Address.fromBase58("1MkvWa82XHFqmRHaiRZ8BqZS7Uc83wekjp");
const alicePrivateKey = new PrivateKey(
  fromHex(
    "77b1b7d5bfe1288d94f829baba86d503e1a06b571aaa5d36820be19ef2fe520e"
  )
);
const aliceAddress = Address.fromBase58("1C2dVLqv1kjNn7pztpQ51bpXVEJfoWUNxe");
const tokenScheme = new TokenScheme(
  "Moi token",
  "e3b111de8fec527b41f4189e313638075d96ccd6",
  "MOI",
  1
);

describe("testing transaction builder", () => {
  test("build open position transaction", () => {
    const message1 = utf8ToBytes("bsvtest");
    const message2 = utf8ToBytes(
      "ulWY+84HZb02vz3iS2690DQ==,m107,tb,a0.01",
    );
    const message3 = utf8ToBytes("text");
    const message4 = utf8ToBytes("B");
    const from = Address.fromBase58("1MkvWa82XHFqmRHaiRZ8BqZS7Uc83wekjp");
    const outPoint = new OutPoint(
      "bedacaaeed9eef91aa359f4e7be2c674e6f0ff150f358b7439469adbc0ccc442",
      2,
      fromHex("76a914e3b111de8fec527b41f4189e313638075d96ccd688ac"),
      20340,
      from,
      ScriptType.p2pkh
    );
    const saatoshis = 0.000024 * 100_000_000;
    const txBuilder = TransactionBuilder.init()
      .addInput(outPoint, issuerPrivateKey)
      .addP2PkhOutput(
        saatoshis,
        Address.fromBase58("17FCMLqkwyQ4aJGmAD9T2aGKq1UhPmyPmt")
      )
      .addNullDataOutput([message1, message2, message3, message4])
      .addChangeOutputWithFee(from, outPoint.Satoshis - saatoshis, 0.05)
      .sign();

    const result = txBuilder.toHex();

    expect(result).toBe(
      "010000000142c4ccc0db9a4639748b350f15fff0e674c6e27b4e9f35aa91ef9eedaecadabe020000006a473044022034577ba0f2fbc54ff60d846555c23b74b9ae2721d95f5758453581ecd2a133400220258d4ffa96bf26e6b3563111ec1012dae1c7b7123adfe0fbaeddcdc682e6493341210377efa9937bd4a52edc99f431e2d61f888c173498ded048642343a8133b07c42bffffffff0360090000000000001976a91444800da3829882d058f5938992b16b53e0c3cb5188ac000000000000000039006a076273767465737427756c57592b3834485a623032767a3369533236393044513d3d2c6d3130372c74622c61302e30310474657874014205460000000000001976a914e3b111de8fec527b41f4189e313638075d96ccd688ac00000000"
    );
  });

  test("build STAS Issue transaction", () => {
    const sourceTx = TransactionReader.readHex(SourceTxRaw);
    const stasOutPoint = OutPoint.fromTransaction(sourceTx, 0);
    const fundingOutPoint = OutPoint.fromTransaction(sourceTx, 1);
    const tx = TransactionBuilder.init()
      .addInput(stasOutPoint, issuerPrivateKey)
      .addInput(fundingOutPoint, issuerPrivateKey)
      .addStasOutputByScheme(tokenScheme, stasOutPoint.Satoshis, aliceAddress)
      .addChangeOutputWithFee(
        fundingOutPoint.Address,
        fundingOutPoint.Satoshis,
        0.05
      )
      .sign()
      .toHex();

    expect(tx).toBe(IssueTxRaw);
  });

  test("build STAS transfer transaction", () => {
    const sourceTx = TransactionReader.readHex(IssueTxRaw);
    const stasOutPoint = OutPoint.fromTransaction(sourceTx, 0);
    const fundingOutPoint = OutPoint.fromTransaction(sourceTx, 1);
    const tx = BuildTransferTx({
      tokenScheme,
      stasPayment: { OutPoint: stasOutPoint, Owner: alicePrivateKey },
      feePayment: { OutPoint: fundingOutPoint, Owner: issuerPrivateKey },
      to: aliceAddress,
    });

    expect(tx).toBe(TransferNoNoteRaw);
  });

  test("build STAS transfer with note transaction", () => {
    const sourceTx = TransactionReader.readHex(TransferNoNoteRaw);
    const stasOutPoint = OutPoint.fromTransaction(sourceTx, 0);
    const fundingOutPoint = OutPoint.fromTransaction(sourceTx, 1);
    const tx = BuildTransferTx({
      tokenScheme,
      stasPayment: { OutPoint: stasOutPoint, Owner: alicePrivateKey },
      feePayment: { OutPoint: fundingOutPoint, Owner: issuerPrivateKey },
      to: aliceAddress,
      note: [utf8ToBytes("DXS"), utf8ToBytes("Transfer test")],
    });

    expect(tx).toBe(TransferWithNoteRaw);
  });

  test("build STAS Split no note transaction", () => {
    const sourceTx = TransactionReader.readHex(TransferWithNoteRaw);
    const stasOutPoint = OutPoint.fromTransaction(sourceTx, 0);
    const fundingOutPoint = OutPoint.fromTransaction(sourceTx, 1);
    const tx = BuildSplitTx({
      tokenScheme,
      stasPayment: { OutPoint: stasOutPoint, Owner: alicePrivateKey },
      feePayment: { OutPoint: fundingOutPoint, Owner: issuerPrivateKey },
      destinations: [
        { Satoshis: 25, Address: aliceAddress },
        { Satoshis: 25, Address: aliceAddress },
      ],
    });

    expect(tx).toBe(SplitNoNoteRaw);
  });

  test("build STAS Merge no note transaction", () => {
    const sourceTx = TransactionReader.readHex(SplitNoNoteRaw);
    const stasOutPoint1 = OutPoint.fromTransaction(sourceTx, 0);
    const stasOutPoint2 = OutPoint.fromTransaction(sourceTx, 1);
    const fundingOutPoint = OutPoint.fromTransaction(sourceTx, 2);
    const tx = BuildMergeTx({
      tokenScheme,
      outPoint1: stasOutPoint1,
      outPoint2: stasOutPoint2,
      owner: alicePrivateKey,
      feePayment: { OutPoint: fundingOutPoint, Owner: issuerPrivateKey },
      destination: {
        Satoshis: stasOutPoint1.Satoshis + stasOutPoint2.Satoshis,
        Address: aliceAddress,
      },
    });

    expect(tx).toBe(MergeNoNoteRaw);
  });

  test("build STAS Split with note transaction", () => {
    const sourceTx = TransactionReader.readHex(MergeNoNoteRaw);
    const stasOutPoint = OutPoint.fromTransaction(sourceTx, 0);
    const fundingOutPoint = OutPoint.fromTransaction(sourceTx, 1);
    const tx = BuildSplitTx({
      tokenScheme,
      stasPayment: { OutPoint: stasOutPoint, Owner: alicePrivateKey },
      feePayment: { OutPoint: fundingOutPoint, Owner: issuerPrivateKey },
      destinations: [
        { Satoshis: 25, Address: aliceAddress },
        { Satoshis: 25, Address: aliceAddress },
      ],
      note: [utf8ToBytes("DXS"), utf8ToBytes("Split test")],
    });

    expect(tx).toBe(SplitWithNoteRaw);
  });

  test("build STAS Merge with note transaction", () => {
    const sourceTx = TransactionReader.readHex(SplitWithNoteRaw);
    const stasOutPoint1 = OutPoint.fromTransaction(sourceTx, 0);
    const stasOutPoint2 = OutPoint.fromTransaction(sourceTx, 1);
    const fundingOutPoint = OutPoint.fromTransaction(sourceTx, 2);
    const tx = BuildMergeTx({
      tokenScheme,
      outPoint1: stasOutPoint1,
      outPoint2: stasOutPoint2,
      owner: alicePrivateKey,
      feePayment: {
        OutPoint: fundingOutPoint,
        Owner: issuerPrivateKey,
      },
      destination: { Satoshis: 50, Address: aliceAddress },
      note: [utf8ToBytes("DXS"), utf8ToBytes("Merge test")],
    });

    expect(tx).toBe(MergeWithNoteRaw);
  });

  test("build STAS Split no note 2 transaction", () => {
    const sourceTx = TransactionReader.readHex(MergeWithNoteRaw);
    const stasOutPoint = OutPoint.fromTransaction(sourceTx, 0);
    const fundingOutPoint = OutPoint.fromTransaction(sourceTx, 1);
    const tx = BuildSplitTx({
      tokenScheme,
      stasPayment: { OutPoint: stasOutPoint, Owner: alicePrivateKey },
      feePayment: { OutPoint: fundingOutPoint, Owner: issuerPrivateKey },
      destinations: [
        { Satoshis: 25, Address: aliceAddress },
        { Satoshis: 25, Address: aliceAddress },
      ],
    });

    expect(tx).toBe(SplitWithNote2Raw);
  });

  test("build STAS MergeSplit with note transaction", () => {
    const sourceTx = TransactionReader.readHex(SplitWithNote2Raw);
    const stasOutPoint1 = OutPoint.fromTransaction(sourceTx, 0);
    const stasOutPoint2 = OutPoint.fromTransaction(sourceTx, 1);
    const fundingOutPoint = OutPoint.fromTransaction(sourceTx, 2);
    const tx = BuildMergeTx({
      tokenScheme,
      outPoint1: stasOutPoint1,
      outPoint2: stasOutPoint2,
      owner: alicePrivateKey,
      feePayment: {
        OutPoint: fundingOutPoint,
        Owner: issuerPrivateKey,
      },
      destination: { Satoshis: 25, Address: aliceAddress },
      splitDestination: { Satoshis: 25, Address: aliceAddress },
      note: [utf8ToBytes("DXS"), utf8ToBytes("Merge split test")],
    });

    expect(tx).toBe(MergeSplitWithNoteRaw);
  });

  test("build STAS Merge with note transaction", () => {
    const sourceTx = TransactionReader.readHex(MergeSplitWithNoteRaw);
    const stasOutPoint1 = OutPoint.fromTransaction(sourceTx, 0);
    const stasOutPoint2 = OutPoint.fromTransaction(sourceTx, 1);
    const fundingOutPoint = OutPoint.fromTransaction(sourceTx, 2);
    const tx = BuildMergeTx({
      tokenScheme,
      outPoint1: stasOutPoint1,
      outPoint2: stasOutPoint2,
      owner: alicePrivateKey,
      feePayment: {
        OutPoint: fundingOutPoint,
        Owner: issuerPrivateKey,
      },
      destination: { Satoshis: 50, Address: aliceAddress },
      note: [utf8ToBytes("DXS"), utf8ToBytes("Merge test 2")],
    });

    expect(tx).toBe(MergeWithNote2Raw);
  });

  test("build STAS Transfer to Isssuer transaction", () => {
    const sourceTx = TransactionReader.readHex(MergeWithNote2Raw);
    const stasOutPoint = OutPoint.fromTransaction(sourceTx, 0);
    const fundingOutPoint = OutPoint.fromTransaction(sourceTx, 1);
    const tx = BuildTransferTx({
      tokenScheme,
      stasPayment: { OutPoint: stasOutPoint, Owner: alicePrivateKey },
      feePayment: {
        OutPoint: fundingOutPoint,
        Owner: issuerPrivateKey,
      },
      to: issuerAddress,
      note: [utf8ToBytes("DXS"), utf8ToBytes("Transfer to issuer test")],
    });

    expect(tx).toBe(TransferToIssuerRaw);
  });

  test("build STAS RedeemSplit with note transaction", () => {
    const sourceTx = TransactionReader.readHex(TransferToIssuerRaw);
    const stasOutPoint1 = OutPoint.fromTransaction(sourceTx, 0);
    const fundingOutPoint = OutPoint.fromTransaction(sourceTx, 1);

    const txBuilder = TransactionBuilder.init()
      .addInput(stasOutPoint1, issuerPrivateKey)
      .addInput(fundingOutPoint, issuerPrivateKey)
      .addP2PkhOutput(25, issuerAddress)
      .addStasOutputByScheme(tokenScheme, 25, issuerAddress)
      .addNullDataOutput([
        utf8ToBytes("DXS"),
        utf8ToBytes("Redeem Split test"),
      ]);

    txBuilder.addChangeOutputWithFee(
      fundingOutPoint.Address,
      fundingOutPoint.Satoshis,
      0.05,
      2
    );

    txBuilder.sign();

    const tx = txBuilder.toHex();

    expect(tx).toBe(RedeemSplitWithNoteRaw);
  });

  test("build STAS Redeem with note transaction", () => {
    const sourceTx = TransactionReader.readHex(RedeemSplitWithNoteRaw);
    const stasOutPoint1 = OutPoint.fromTransaction(sourceTx, 1);
    const fundingOutPoint = OutPoint.fromTransaction(sourceTx, 2);

    const txBuilder = TransactionBuilder.init()
      .addInput(stasOutPoint1, issuerPrivateKey)
      .addInput(fundingOutPoint, issuerPrivateKey)
      .addP2PkhOutput(25, issuerAddress)
      .addNullDataOutput([utf8ToBytes("DXS"), utf8ToBytes("Redeem test")]);

    txBuilder.addChangeOutputWithFee(
      fundingOutPoint.Address,
      fundingOutPoint.Satoshis,
      0.05,
      1
    );

    txBuilder.sign();

    const tx = txBuilder.toHex();

    expect(tx).toBe(RedeemWithNoteRaw);
  });

  // test("Build split tx", () => {
  //   var sourceTx = TransactionReader.readHex(
  //     "01000000029c026b92cf363134335bb6b3d5aa42f962d104f9bd9c031cda354fb155d8b95f00000000fdb20602c800149a9b941d6db4e713acaf04cecb569ee1e01ed4620220031480458a3e72d8b69350631a8733c5f2cecb13013003adbe06147d04a17ef173a6f1806d8e4c26c5d438d7e8d9fe005120a42df9ac0660441c76e2d900a52e2af6ea1056950f0d66ea7b6bcdc22b0bfe2e004dd80501000000add7f1ec279c454a7ec6ad3c157875bfa2602dd091885bc50b3ff77b453dc1cc752adad0a7b9ceca853768aebb6965eca126a62965f698a0c1bc43d83db632ad9c026b92cf363134335bb6b3d5aa42f962d104f9bd9c031cda354fb155d8b95f00000000fd390576a91480458a3e72d8b69350631a8733c5f2cecb13013088ac6976aa607f5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7c5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e011f7f7d7e01007e8111414136d08c5ed2bf3ba048afe6dcaebafe01005f80837e01007e7652967b537a7601ff877c0100879b7d648b6752799368537a7d9776547aa06394677768263044022079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179802207c607f5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7c5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e01417e7c6421038ff83d8cf12121491609c4939dc11c4aa35503508fe432dc5a5c1905608b92186721023635954789a02e39fb7e54440b6f528d53efd65635ddad7f3c4085f97fdbdc4868ad547f7701207f01207f7701247f517f7801007e02fd00a063546752687f7801007e817f727e7b537f7701147f76020c057f7701147f757b876b7b557a766471567a577a786354807e7e676d68aa880067765158a569765187645294567a5379587a7e7e78637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6867567a6876aa587a7d54807e577a597a5a7a786354807e6f7e7eaa727c7e676d6e7eaa7c687b7eaa587a7d877663516752687c72879b69537a6491687c7b547f77517f7853a0916901247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f77788c6301247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f777852946301247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f77686877517f7c52797d8b9f7c53a09b91697c76638c7c587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f777c6876638c7c587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f777c6863587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f7768587f517f7801007e817602fc00a06302fd00a063546752687f7801007e81727e7b7b687f75537f7c0376a9148801147f775379645579887567726881687863547a677b68587f7c815379635379528763547a6b547a6b7b6b67567a6b567a6b6b7c68677b93687c547f7701207f75748c7a7669765880041976a9147858790376a9147e7e748c7a7d7e5879727e0288ac727e547a00587a64745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e68676c766976748c7a9d58807e6c0376a9147e748c7a7e6c7e7e68745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e68745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e687c577a9d7d7e5979635a795880041976a9145b797e0288ac7e7e6700687d7e597a766302006a7c7e827602fc00a06301fd7c7e536751687f757c7e0058807c7e687d7eaa6b7e7e7e7e7eaa78877c6c877c6c9a9b726d77776a14b88d6642959df517b76dd6860c04c063a243f1160124e803000000000000ffffffff86c291f2d7795c954a330447c42b2c1351380236f42c567526be5d8d7673daa4000000004100000047304402207beb61a695e2eca4ec78a8a190e7fca1512fba99cb021cec48dfbe32396c8f200220365ab9f7f8115413417acdd1f60203185e71c8f2290942d4207cae4bdb3966c9412102149e0461daf0b697a4e2c8efaf0821b15246e4cb5c3aaf5477980bfbd5a7c59fffffffffa42df9ac0660441c76e2d900a52e2af6ea1056950f0d66ea7b6bcdc22b0bfe2e010000006b483045022100ac4d76cc300903ccfe4ae8a779138d4368c0f25227c3ba2a174fd71643df280b02202604d0e08c526ff85dbf94f5c7bd75e466bde697bc91ffe2a745e622bcdaa1214121039a105a3ddbea9c97d908105c0711adc3359bf8d4a837e61a8e08985d32e2228affffffff03c800000000000000fd390576a9149a9b941d6db4e713acaf04cecb569ee1e01ed46288ac6976aa607f5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7c5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e011f7f7d7e01007e8111414136d08c5ed2bf3ba048afe6dcaebafe01005f80837e01007e7652967b537a7601ff877c0100879b7d648b6752799368537a7d9776547aa06394677768263044022079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179802207c607f5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7c5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e01417e7c6421038ff83d8cf12121491609c4939dc11c4aa35503508fe432dc5a5c1905608b92186721023635954789a02e39fb7e54440b6f528d53efd65635ddad7f3c4085f97fdbdc4868ad547f7701207f01207f7701247f517f7801007e02fd00a063546752687f7801007e817f727e7b537f7701147f76020c057f7701147f757b876b7b557a766471567a577a786354807e7e676d68aa880067765158a569765187645294567a5379587a7e7e78637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6867567a6876aa587a7d54807e577a597a5a7a786354807e6f7e7eaa727c7e676d6e7eaa7c687b7eaa587a7d877663516752687c72879b69537a6491687c7b547f77517f7853a0916901247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f77788c6301247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f777852946301247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f77686877517f7c52797d8b9f7c53a09b91697c76638c7c587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f777c6876638c7c587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f777c6863587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f7768587f517f7801007e817602fc00a06302fd00a063546752687f7801007e81727e7b7b687f75537f7c0376a9148801147f775379645579887567726881687863547a677b68587f7c815379635379528763547a6b547a6b7b6b67567a6b567a6b6b7c68677b93687c547f7701207f75748c7a7669765880041976a9147858790376a9147e7e748c7a7d7e5879727e0288ac727e547a00587a64745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e68676c766976748c7a9d58807e6c0376a9147e748c7a7e6c7e7e68745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e68745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e687c577a9d7d7e5979635a795880041976a9145b797e0288ac7e7e6700687d7e597a766302006a7c7e827602fc00a06301fd7c7e536751687f757c7e0058807c7e687d7eaa6b7e7e7e7e7eaa78877c6c877c6c9a9b726d77776a14b88d6642959df517b76dd6860c04c063a243f11601242003000000000000fd390576a91480458a3e72d8b69350631a8733c5f2cecb13013088ac6976aa607f5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7c5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e011f7f7d7e01007e8111414136d08c5ed2bf3ba048afe6dcaebafe01005f80837e01007e7652967b537a7601ff877c0100879b7d648b6752799368537a7d9776547aa06394677768263044022079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179802207c607f5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7c5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e01417e7c6421038ff83d8cf12121491609c4939dc11c4aa35503508fe432dc5a5c1905608b92186721023635954789a02e39fb7e54440b6f528d53efd65635ddad7f3c4085f97fdbdc4868ad547f7701207f01207f7701247f517f7801007e02fd00a063546752687f7801007e817f727e7b537f7701147f76020c057f7701147f757b876b7b557a766471567a577a786354807e7e676d68aa880067765158a569765187645294567a5379587a7e7e78637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6867567a6876aa587a7d54807e577a597a5a7a786354807e6f7e7eaa727c7e676d6e7eaa7c687b7eaa587a7d877663516752687c72879b69537a6491687c7b547f77517f7853a0916901247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f77788c6301247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f777852946301247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f77686877517f7c52797d8b9f7c53a09b91697c76638c7c587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f777c6876638c7c587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f777c6863587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f7768587f517f7801007e817602fc00a06302fd00a063546752687f7801007e81727e7b7b687f75537f7c0376a9148801147f775379645579887567726881687863547a677b68587f7c815379635379528763547a6b547a6b7b6b67567a6b567a6b6b7c68677b93687c547f7701207f75748c7a7669765880041976a9147858790376a9147e7e748c7a7d7e5879727e0288ac727e547a00587a64745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e68676c766976748c7a9d58807e6c0376a9147e748c7a7e6c7e7e68745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e68745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e687c577a9d7d7e5979635a795880041976a9145b797e0288ac7e7e6700687d7e597a766302006a7c7e827602fc00a06301fd7c7e536751687f757c7e0058807c7e687d7eaa6b7e7e7e7e7eaa78877c6c877c6c9a9b726d77776a14b88d6642959df517b76dd6860c04c063a243f1160124adbe0600000000001976a9147d04a17ef173a6f1806d8e4c26c5d438d7e8d9fe88ac00000000"
  //   );

  //   var stasOutput = OutPoint.fromTransaction(sourceTx, 1);
  //   var feeOutput = OutPoint.fromTransaction(sourceTx, 2);

  //   var stasPk = new PrivateKey(
  //     fromHex(
  //       "df56deb3636aad10432c8de4bd58863a93db0e868fae2c4ba1d7abdf9e10d94a",
  //       "hex"
  //     )
  //   );
  //   var feePk = new PrivateKey(
  //     fromHex(
  //       "cba27b635b098d790f5289460f28dd99174cd85283d7e9b4ea0c5ecc6bfa8c13",
  //       "hex"
  //     )
  //   );

  //   var tx = BuildSplitTx({
  //     tokenScheme: new TokenScheme(
  //       "Usd",
  //       "b88d6642959df517b76dd6860c04c063a243f116",
  //       "$",
  //       100
  //     ),
  //     stasPayment: { OutPoint: stasOutput, Owner: stasPk },
  //     feePayment: { OutPoint: feeOutput, Owner: feePk },
  //     destinations: [
  //       {
  //         Address: Address.fromBase58("1F6VSLBXxXUCJAJA3ksMCLP31cWNg9PCWX"),
  //         Satoshis: 200,
  //       },
  //       {
  //         Address: stasPk.Address,
  //         Satoshis: 600,
  //       },
  //     ],
  //   });

  //   // expect(tx).toBe(
  //   //   "01000000029c026b92cf363134335bb6b3d5aa42f962d104f9bd9c031cda354fb155d8b95f00000000fdb20602c800149a9b941d6db4e713acaf04cecb569ee1e01ed4620220031480458a3e72d8b69350631a8733c5f2cecb13013003adbe06147d04a17ef173a6f1806d8e4c26c5d438d7e8d9fe005120a42df9ac0660441c76e2d900a52e2af6ea1056950f0d66ea7b6bcdc22b0bfe2e004dd80501000000add7f1ec279c454a7ec6ad3c157875bfa2602dd091885bc50b3ff77b453dc1cc752adad0a7b9ceca853768aebb6965eca126a62965f698a0c1bc43d83db632ad9c026b92cf363134335bb6b3d5aa42f962d104f9bd9c031cda354fb155d8b95f00000000fd390576a91480458a3e72d8b69350631a8733c5f2cecb13013088ac6976aa607f5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7c5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e011f7f7d7e01007e8111414136d08c5ed2bf3ba048afe6dcaebafe01005f80837e01007e7652967b537a7601ff877c0100879b7d648b6752799368537a7d9776547aa06394677768263044022079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179802207c607f5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7c5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e01417e7c6421038ff83d8cf12121491609c4939dc11c4aa35503508fe432dc5a5c1905608b92186721023635954789a02e39fb7e54440b6f528d53efd65635ddad7f3c4085f97fdbdc4868ad547f7701207f01207f7701247f517f7801007e02fd00a063546752687f7801007e817f727e7b537f7701147f76020c057f7701147f757b876b7b557a766471567a577a786354807e7e676d68aa880067765158a569765187645294567a5379587a7e7e78637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6867567a6876aa587a7d54807e577a597a5a7a786354807e6f7e7eaa727c7e676d6e7eaa7c687b7eaa587a7d877663516752687c72879b69537a6491687c7b547f77517f7853a0916901247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f77788c6301247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f777852946301247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f77686877517f7c52797d8b9f7c53a09b91697c76638c7c587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f777c6876638c7c587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f777c6863587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f7768587f517f7801007e817602fc00a06302fd00a063546752687f7801007e81727e7b7b687f75537f7c0376a9148801147f775379645579887567726881687863547a677b68587f7c815379635379528763547a6b547a6b7b6b67567a6b567a6b6b7c68677b93687c547f7701207f75748c7a7669765880041976a9147858790376a9147e7e748c7a7d7e5879727e0288ac727e547a00587a64745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e68676c766976748c7a9d58807e6c0376a9147e748c7a7e6c7e7e68745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e68745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e687c577a9d7d7e5979635a795880041976a9145b797e0288ac7e7e6700687d7e597a766302006a7c7e827602fc00a06301fd7c7e536751687f757c7e0058807c7e687d7eaa6b7e7e7e7e7eaa78877c6c877c6c9a9b726d77776a14b88d6642959df517b76dd6860c04c063a243f1160124e803000000000000ffffffff86c291f2d7795c954a330447c42b2c1351380236f42c567526be5d8d7673daa4000000004100000047304402207beb61a695e2eca4ec78a8a190e7fca1512fba99cb021cec48dfbe32396c8f200220365ab9f7f8115413417acdd1f60203185e71c8f2290942d4207cae4bdb3966c9412102149e0461daf0b697a4e2c8efaf0821b15246e4cb5c3aaf5477980bfbd5a7c59fffffffffa42df9ac0660441c76e2d900a52e2af6ea1056950f0d66ea7b6bcdc22b0bfe2e010000006b483045022100ac4d76cc300903ccfe4ae8a779138d4368c0f25227c3ba2a174fd71643df280b02202604d0e08c526ff85dbf94f5c7bd75e466bde697bc91ffe2a745e622bcdaa1214121039a105a3ddbea9c97d908105c0711adc3359bf8d4a837e61a8e08985d32e2228affffffff03c800000000000000fd390576a9149a9b941d6db4e713acaf04cecb569ee1e01ed46288ac6976aa607f5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7c5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e011f7f7d7e01007e8111414136d08c5ed2bf3ba048afe6dcaebafe01005f80837e01007e7652967b537a7601ff877c0100879b7d648b6752799368537a7d9776547aa06394677768263044022079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179802207c607f5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7c5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e01417e7c6421038ff83d8cf12121491609c4939dc11c4aa35503508fe432dc5a5c1905608b92186721023635954789a02e39fb7e54440b6f528d53efd65635ddad7f3c4085f97fdbdc4868ad547f7701207f01207f7701247f517f7801007e02fd00a063546752687f7801007e817f727e7b537f7701147f76020c057f7701147f757b876b7b557a766471567a577a786354807e7e676d68aa880067765158a569765187645294567a5379587a7e7e78637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6867567a6876aa587a7d54807e577a597a5a7a786354807e6f7e7eaa727c7e676d6e7eaa7c687b7eaa587a7d877663516752687c72879b69537a6491687c7b547f77517f7853a0916901247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f77788c6301247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f777852946301247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f77686877517f7c52797d8b9f7c53a09b91697c76638c7c587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f777c6876638c7c587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f777c6863587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f7768587f517f7801007e817602fc00a06302fd00a063546752687f7801007e81727e7b7b687f75537f7c0376a9148801147f775379645579887567726881687863547a677b68587f7c815379635379528763547a6b547a6b7b6b67567a6b567a6b6b7c68677b93687c547f7701207f75748c7a7669765880041976a9147858790376a9147e7e748c7a7d7e5879727e0288ac727e547a00587a64745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e68676c766976748c7a9d58807e6c0376a9147e748c7a7e6c7e7e68745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e68745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e687c577a9d7d7e5979635a795880041976a9145b797e0288ac7e7e6700687d7e597a766302006a7c7e827602fc00a06301fd7c7e536751687f757c7e0058807c7e687d7eaa6b7e7e7e7e7eaa78877c6c877c6c9a9b726d77776a14b88d6642959df517b76dd6860c04c063a243f11601242003000000000000fd390576a91480458a3e72d8b69350631a8733c5f2cecb13013088ac6976aa607f5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7c5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e011f7f7d7e01007e8111414136d08c5ed2bf3ba048afe6dcaebafe01005f80837e01007e7652967b537a7601ff877c0100879b7d648b6752799368537a7d9776547aa06394677768263044022079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179802207c607f5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7c5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e01417e7c6421038ff83d8cf12121491609c4939dc11c4aa35503508fe432dc5a5c1905608b92186721023635954789a02e39fb7e54440b6f528d53efd65635ddad7f3c4085f97fdbdc4868ad547f7701207f01207f7701247f517f7801007e02fd00a063546752687f7801007e817f727e7b537f7701147f76020c057f7701147f757b876b7b557a766471567a577a786354807e7e676d68aa880067765158a569765187645294567a5379587a7e7e78637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6867567a6876aa587a7d54807e577a597a5a7a786354807e6f7e7eaa727c7e676d6e7eaa7c687b7eaa587a7d877663516752687c72879b69537a6491687c7b547f77517f7853a0916901247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f77788c6301247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f777852946301247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f77686877517f7c52797d8b9f7c53a09b91697c76638c7c587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f777c6876638c7c587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f777c6863587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f7768587f517f7801007e817602fc00a06302fd00a063546752687f7801007e81727e7b7b687f75537f7c0376a9148801147f775379645579887567726881687863547a677b68587f7c815379635379528763547a6b547a6b7b6b67567a6b567a6b6b7c68677b93687c547f7701207f75748c7a7669765880041976a9147858790376a9147e7e748c7a7d7e5879727e0288ac727e547a00587a64745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e68676c766976748c7a9d58807e6c0376a9147e748c7a7e6c7e7e68745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e68745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e687c577a9d7d7e5979635a795880041976a9145b797e0288ac7e7e6700687d7e597a766302006a7c7e827602fc00a06301fd7c7e536751687f757c7e0058807c7e687d7eaa6b7e7e7e7e7eaa78877c6c877c6c9a9b726d77776a14b88d6642959df517b76dd6860c04c063a243f1160124adbe0600000000001976a9147d04a17ef173a6f1806d8e4c26c5d438d7e8d9fe88ac00000000"
  //   // );

  //   //from front
  //   expect(tx).toBe(
  //     "01000000028f50b7957244249c8944b300f5800404b910f0c3e4c916fd216c62b4f801a1a301000000fdb20602c800149a9b941d6db4e713acaf04cecb569ee1e01ed4620258021480458a3e72d8b69350631a8733c5f2cecb13013003c4bd06147d04a17ef173a6f1806d8e4c26c5d438d7e8d9fe0052208f50b7957244249c8944b300f5800404b910f0c3e4c916fd216c62b4f801a1a3004dd8050100000096e98f0fbcb927037c0aaee76d811638d5c85dfefdea21ae189d6be3fb6287b2752adad0a7b9ceca853768aebb6965eca126a62965f698a0c1bc43d83db632ad8f50b7957244249c8944b300f5800404b910f0c3e4c916fd216c62b4f801a1a301000000fd390576a91480458a3e72d8b69350631a8733c5f2cecb13013088ac6976aa607f5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7c5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e011f7f7d7e01007e8111414136d08c5ed2bf3ba048afe6dcaebafe01005f80837e01007e7652967b537a7601ff877c0100879b7d648b6752799368537a7d9776547aa06394677768263044022079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179802207c607f5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7c5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e01417e7c6421038ff83d8cf12121491609c4939dc11c4aa35503508fe432dc5a5c1905608b92186721023635954789a02e39fb7e54440b6f528d53efd65635ddad7f3c4085f97fdbdc4868ad547f7701207f01207f7701247f517f7801007e02fd00a063546752687f7801007e817f727e7b537f7701147f76020c057f7701147f757b876b7b557a766471567a577a786354807e7e676d68aa880067765158a569765187645294567a5379587a7e7e78637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6867567a6876aa587a7d54807e577a597a5a7a786354807e6f7e7eaa727c7e676d6e7eaa7c687b7eaa587a7d877663516752687c72879b69537a6491687c7b547f77517f7853a0916901247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f77788c6301247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f777852946301247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f77686877517f7c52797d8b9f7c53a09b91697c76638c7c587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f777c6876638c7c587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f777c6863587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f7768587f517f7801007e817602fc00a06302fd00a063546752687f7801007e81727e7b7b687f75537f7c0376a9148801147f775379645579887567726881687863547a677b68587f7c815379635379528763547a6b547a6b7b6b67567a6b567a6b6b7c68677b93687c547f7701207f75748c7a7669765880041976a9147858790376a9147e7e748c7a7d7e5879727e0288ac727e547a00587a64745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e68676c766976748c7a9d58807e6c0376a9147e748c7a7e6c7e7e68745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e68745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e687c577a9d7d7e5979635a795880041976a9145b797e0288ac7e7e6700687d7e597a766302006a7c7e827602fc00a06301fd7c7e536751687f757c7e0058807c7e687d7eaa6b7e7e7e7e7eaa78877c6c877c6c9a9b726d77776a14b88d6642959df517b76dd6860c04c063a243f11601242003000000000000ffffffffe360970d500d634bc5df22d1c42aedd4512cded6cc8fc3549682ad96079a8336000000004100000047304402204022f89c5b5c56727ff74a0833ae08ad55e6da7fad6fa61df97cc96d2f83b83a022032e11434fc4766752897bf6b11facadd7ea7a7837db4478555e9b267420e863c412102149e0461daf0b697a4e2c8efaf0821b15246e4cb5c3aaf5477980bfbd5a7c59fffffffff8f50b7957244249c8944b300f5800404b910f0c3e4c916fd216c62b4f801a1a3020000006a473044022048938a9efb3b1d4bdd829f31f7e520ffe058cdabf4e3bcc09c21605cc1e690a8022033b563d315c684ac59c6024fc887c1dbdc7796274cacb457f2428d80b38ea4814121039a105a3ddbea9c97d908105c0711adc3359bf8d4a837e61a8e08985d32e2228affffffff03c800000000000000fd390576a9149a9b941d6db4e713acaf04cecb569ee1e01ed46288ac6976aa607f5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7c5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e011f7f7d7e01007e8111414136d08c5ed2bf3ba048afe6dcaebafe01005f80837e01007e7652967b537a7601ff877c0100879b7d648b6752799368537a7d9776547aa06394677768263044022079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179802207c607f5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7c5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e01417e7c6421038ff83d8cf12121491609c4939dc11c4aa35503508fe432dc5a5c1905608b92186721023635954789a02e39fb7e54440b6f528d53efd65635ddad7f3c4085f97fdbdc4868ad547f7701207f01207f7701247f517f7801007e02fd00a063546752687f7801007e817f727e7b537f7701147f76020c057f7701147f757b876b7b557a766471567a577a786354807e7e676d68aa880067765158a569765187645294567a5379587a7e7e78637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6867567a6876aa587a7d54807e577a597a5a7a786354807e6f7e7eaa727c7e676d6e7eaa7c687b7eaa587a7d877663516752687c72879b69537a6491687c7b547f77517f7853a0916901247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f77788c6301247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f777852946301247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f77686877517f7c52797d8b9f7c53a09b91697c76638c7c587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f777c6876638c7c587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f777c6863587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f7768587f517f7801007e817602fc00a06302fd00a063546752687f7801007e81727e7b7b687f75537f7c0376a9148801147f775379645579887567726881687863547a677b68587f7c815379635379528763547a6b547a6b7b6b67567a6b567a6b6b7c68677b93687c547f7701207f75748c7a7669765880041976a9147858790376a9147e7e748c7a7d7e5879727e0288ac727e547a00587a64745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e68676c766976748c7a9d58807e6c0376a9147e748c7a7e6c7e7e68745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e68745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e687c577a9d7d7e5979635a795880041976a9145b797e0288ac7e7e6700687d7e597a766302006a7c7e827602fc00a06301fd7c7e536751687f757c7e0058807c7e687d7eaa6b7e7e7e7e7eaa78877c6c877c6c9a9b726d77776a14b88d6642959df517b76dd6860c04c063a243f11601245802000000000000fd390576a91480458a3e72d8b69350631a8733c5f2cecb13013088ac6976aa607f5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7c5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e011f7f7d7e01007e8111414136d08c5ed2bf3ba048afe6dcaebafe01005f80837e01007e7652967b537a7601ff877c0100879b7d648b6752799368537a7d9776547aa06394677768263044022079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179802207c607f5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7c5f7f7c5e7f7c5d7f7c5c7f7c5b7f7c5a7f7c597f7c587f7c577f7c567f7c557f7c547f7c537f7c527f7c517f7c7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e01417e7c6421038ff83d8cf12121491609c4939dc11c4aa35503508fe432dc5a5c1905608b92186721023635954789a02e39fb7e54440b6f528d53efd65635ddad7f3c4085f97fdbdc4868ad547f7701207f01207f7701247f517f7801007e02fd00a063546752687f7801007e817f727e7b537f7701147f76020c057f7701147f757b876b7b557a766471567a577a786354807e7e676d68aa880067765158a569765187645294567a5379587a7e7e78637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6878637c8c7c53797e577a7e6867567a6876aa587a7d54807e577a597a5a7a786354807e6f7e7eaa727c7e676d6e7eaa7c687b7eaa587a7d877663516752687c72879b69537a6491687c7b547f77517f7853a0916901247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f77788c6301247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f777852946301247f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e816854937f77686877517f7c52797d8b9f7c53a09b91697c76638c7c587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f777c6876638c7c587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f777c6863587f77517f7c01007e817602fc00a06302fd00a063546752687f7c01007e81687f7768587f517f7801007e817602fc00a06302fd00a063546752687f7801007e81727e7b7b687f75537f7c0376a9148801147f775379645579887567726881687863547a677b68587f7c815379635379528763547a6b547a6b7b6b67567a6b567a6b6b7c68677b93687c547f7701207f75748c7a7669765880041976a9147858790376a9147e7e748c7a7d7e5879727e0288ac727e547a00587a64745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e68676c766976748c7a9d58807e6c0376a9147e748c7a7e6c7e7e68745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e68745da0637c748c7a76697d937b7b58807e59790376a9147e748c7a7e59797e7e687c577a9d7d7e5979635a795880041976a9145b797e0288ac7e7e6700687d7e597a766302006a7c7e827602fc00a06301fd7c7e536751687f757c7e0058807c7e687d7eaa6b7e7e7e7e7eaa78877c6c877c6c9a9b726d77776a14b88d6642959df517b76dd6860c04c063a243f1160124c4bd0600000000001976a9147d04a17ef173a6f1806d8e4c26c5d438d7e8d9fe88ac00000000"
  //   );
  // });
});
